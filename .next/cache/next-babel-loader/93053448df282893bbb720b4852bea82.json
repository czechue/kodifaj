{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { FieldArray } from 'react-final-form-arrays';\nimport arrayMutators from 'final-form-arrays';\nimport ReactMarkdown from 'react-markdown';\nimport FormWrapperComponent from '../shared/form-wrapper/form-wrapper.component';\nimport InputComponent from '../shared/input/input.component';\nimport mapFormToNewTaskFormat from './utils/map-form-to-new-task-form.util';\nimport NewTaskHeading from './heading/heading.component';\nimport FieldArrayComponent from './field-array/field-array.component';\nimport CodeBlock from './utils/code-block.hoc'; // const required = (value: string) => (value ? undefined : \"Required\");\n\nexport default function NewTaskComponent(_ref) {\n  var _this = this;\n\n  var onSubmit = _ref.onSubmit;\n\n  // todo: investigate why values argument doesnt work with NewTaskForm type\n  function onFormSubmit(values) {\n    return _regeneratorRuntime.async(function onFormSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (onSubmit) {\n              onSubmit(mapFormToNewTaskFormat(values));\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(NewTaskHeading, null, \"Kreator zada\\u0144\"), __jsx(FormWrapperComponent, null, __jsx(Form, {\n    onSubmit: onFormSubmit,\n    mutators: _objectSpread({}, arrayMutators),\n    render: function render(_ref2) {\n      var handleSubmit = _ref2.handleSubmit,\n          values = _ref2.values;\n      return __jsx(\"form\", {\n        onSubmit: handleSubmit\n      }, __jsx(Field, {\n        name: \"title\",\n        label: \"Tytu\\u0142\",\n        component: InputComponent,\n        placeholder: \"np. Super cool formularz\"\n      }), __jsx(Field, {\n        name: \"repo\",\n        label: \"Link do zadania na Github\",\n        component: InputComponent,\n        placeholder: \"https://github.com/kodifaj\"\n      }), __jsx(Field, {\n        name: \"tags\",\n        label: \"Tagi\",\n        component: InputComponent,\n        placeholder: \"html, js, css\"\n      }), __jsx(FieldArray, {\n        name: \"tips\"\n      }, function (_ref3) {\n        var fields = _ref3.fields,\n            meta = _ref3.meta;\n        return __jsx(FieldArrayComponent, {\n          fields: fields,\n          meta: meta,\n          recordName: \"tip\",\n          label: \"Wskaz\\xF3wki\",\n          placeholder: \"Nowa wskaz\\xF3wka\"\n        });\n      }), __jsx(FieldArray, {\n        name: \"images\"\n      }, function (_ref4) {\n        var fields = _ref4.fields,\n            meta = _ref4.meta;\n        return __jsx(FieldArrayComponent, {\n          fields: fields,\n          meta: meta,\n          recordName: \"image\",\n          label: \"Obrazy\",\n          placeholder: \"Nowy obraz max 10kb\"\n        });\n      }), __jsx(Field, {\n        name: \"content\",\n        label: \"Tre\\u015B\\u0107\",\n        component: InputComponent,\n        placeholder: \"Na czym polega zadanie?\",\n        fieldType: \"textarea\"\n      }), __jsx(\"div\", {\n        className: \"bg-white p-2\"\n      }, __jsx(\"div\", {\n        className: \"markdown-editor-toolbar\"\n      }, __jsx(\"button\", {\n        className: \"devicon-bold\",\n        disabled: isPreview,\n        onClick: _this.handleAction(\"BOLD\"),\n        \"aria-label\": \"wstaw pogrubienie\",\n        title: \"wstaw pogrubienie\"\n      }), __jsx(\"button\", {\n        className: \"devicon-italic\",\n        disabled: isPreview,\n        onClick: _this.handleAction(\"ITALIC\"),\n        \"aria-label\": \"wstaw italik\",\n        title: \"wstaw italik\"\n      }), __jsx(\"button\", {\n        className: \"devicon-header\",\n        disabled: isPreview,\n        onClick: _this.handleAction(\"HEADING\"),\n        \"aria-label\": \"wstaw nag\\u0142\\xF3wek\",\n        title: \"wstaw nag\\u0142\\xF3wek\"\n      }), __jsx(\"span\", {\n        className: \"separator\"\n      }, \"|\"), __jsx(\"button\", {\n        className: \"devicon-code\",\n        disabled: isPreview,\n        onClick: _this.handleAction(\"CODEBLOCK\"),\n        \"aria-label\": \"wstaw blok kodu\",\n        title: \"wstaw blok kodu\"\n      }), __jsx(\"button\", {\n        className: \"devicon-list-ul\",\n        disabled: isPreview,\n        onClick: _this.handleAction(\"UL\"),\n        \"aria-label\": \"wstaw list\\u0119 nieuporz\\u0105dkowan\\u0105\",\n        title: \"wstaw list\\u0119 nieuporz\\u0105dkowan\\u0105\"\n      }), __jsx(\"button\", {\n        className: \"devicon-list-ol\",\n        disabled: isPreview,\n        onClick: _this.handleAction(\"OL\"),\n        \"aria-label\": \"wstaw list\\u0119 uporz\\u0105dkowan\\u0105\",\n        title: \"wstaw list\\u0119 uporz\\u0105dkowan\\u0105\"\n      }), __jsx(\"span\", {\n        className: \"separator\"\n      }, \"|\"), __jsx(\"button\", {\n        className: \"devicon-eye\",\n        onClick: _this.togglePreview,\n        \"aria-hidden\": true,\n        title: \"zobacz podgl\\u0105d\"\n      })), __jsx(ReactMarkdown, {\n        renderers: {\n          code: CodeBlock\n        },\n        source: values.content\n      })), __jsx(\"button\", {\n        className: \"bg-gradient-button\",\n        type: \"submit\"\n      }, \"Submit\"));\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/michal.lester/Documents/ML/kodifaj/components/new-task/new-task.component.tsx"],"names":["React","Form","Field","FieldArray","arrayMutators","ReactMarkdown","FormWrapperComponent","InputComponent","mapFormToNewTaskFormat","NewTaskHeading","FieldArrayComponent","CodeBlock","NewTaskComponent","onSubmit","onFormSubmit","values","handleSubmit","fields","meta","isPreview","handleAction","togglePreview","code","content"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { AxiosResponse } from 'axios';\nimport { Form, Field } from 'react-final-form';\nimport { FieldArray } from 'react-final-form-arrays';\nimport arrayMutators from 'final-form-arrays';\n\nimport ReactMarkdown from 'react-markdown';\n\nimport FormWrapperComponent from '../shared/form-wrapper/form-wrapper.component';\nimport InputComponent from '../shared/input/input.component';\nimport mapFormToNewTaskFormat from './utils/map-form-to-new-task-form.util';\nimport NewTaskHeading from './heading/heading.component';\nimport FieldArrayComponent from './field-array/field-array.component';\nimport CodeBlock from './utils/code-block.hoc';\n\n// const required = (value: string) => (value ? undefined : \"Required\");\n\nexport default function NewTaskComponent({ onSubmit }: NewTaskProps) {\n  // todo: investigate why values argument doesnt work with NewTaskForm type\n  async function onFormSubmit(values: any) {\n    if (onSubmit) {\n      onSubmit(mapFormToNewTaskFormat(values));\n    }\n  }\n\n  return (\n    <>\n      <NewTaskHeading>Kreator zadań</NewTaskHeading>\n      <FormWrapperComponent>\n        <Form\n          onSubmit={onFormSubmit}\n          mutators={{\n            ...arrayMutators,\n          }}\n          render={({ handleSubmit, values }) => (\n            <form onSubmit={handleSubmit}>\n              <Field\n                name=\"title\"\n                label=\"Tytuł\"\n                component={InputComponent}\n                placeholder=\"np. Super cool formularz\"\n              />\n\n              <Field\n                name=\"repo\"\n                label=\"Link do zadania na Github\"\n                component={InputComponent}\n                placeholder=\"https://github.com/kodifaj\"\n              />\n\n              <Field\n                name=\"tags\"\n                label=\"Tagi\"\n                component={InputComponent}\n                placeholder=\"html, js, css\"\n              />\n\n              <FieldArray name=\"tips\">\n                {({ fields, meta }) => (\n                  <FieldArrayComponent\n                    fields={fields}\n                    meta={meta}\n                    recordName=\"tip\"\n                    label=\"Wskazówki\"\n                    placeholder=\"Nowa wskazówka\"\n                  />\n                )}\n              </FieldArray>\n\n              <FieldArray name=\"images\">\n                {({ fields, meta }) => (\n                  <FieldArrayComponent\n                    fields={fields}\n                    meta={meta}\n                    recordName=\"image\"\n                    label=\"Obrazy\"\n                    placeholder=\"Nowy obraz max 10kb\"\n                  />\n                )}\n              </FieldArray>\n\n              <Field\n                name=\"content\"\n                label=\"Treść\"\n                component={InputComponent}\n                placeholder=\"Na czym polega zadanie?\"\n                fieldType=\"textarea\"\n              />\n\n              <div className=\"bg-white p-2\">\n                <div className=\"markdown-editor-toolbar\">\n                  <button\n                    className=\"devicon-bold\"\n                    disabled={isPreview}\n                    onClick={this.handleAction(\"BOLD\")}\n                    aria-label=\"wstaw pogrubienie\"\n                    title=\"wstaw pogrubienie\"\n                  />\n                  <button\n                    className=\"devicon-italic\"\n                    disabled={isPreview}\n                    onClick={this.handleAction(\"ITALIC\")}\n                    aria-label=\"wstaw italik\"\n                    title=\"wstaw italik\"\n                  />\n                  <button\n                    className=\"devicon-header\"\n                    disabled={isPreview}\n                    onClick={this.handleAction(\"HEADING\")}\n                    aria-label=\"wstaw nagłówek\"\n                    title=\"wstaw nagłówek\"\n                  />\n                  <span className=\"separator\">|</span>\n                  <button\n                    className=\"devicon-code\"\n                    disabled={isPreview}\n                    onClick={this.handleAction(\"CODEBLOCK\")}\n                    aria-label=\"wstaw blok kodu\"\n                    title=\"wstaw blok kodu\"\n                  />\n                  <button\n                    className=\"devicon-list-ul\"\n                    disabled={isPreview}\n                    onClick={this.handleAction(\"UL\")}\n                    aria-label=\"wstaw listę nieuporządkowaną\"\n                    title=\"wstaw listę nieuporządkowaną\"\n                  />\n                  <button\n                    className=\"devicon-list-ol\"\n                    disabled={isPreview}\n                    onClick={this.handleAction(\"OL\")}\n                    aria-label=\"wstaw listę uporządkowaną\"\n                    title=\"wstaw listę uporządkowaną\"\n                  />\n                  <span className=\"separator\">|</span>\n                  <button\n                    className=\"devicon-eye\"\n                    onClick={this.togglePreview}\n                    aria-hidden={true}\n                    title=\"zobacz podgląd\"\n                  />\n                </div>\n                <ReactMarkdown\n                  renderers={{\n                    code: CodeBlock,\n                  }}\n                  source={values.content}\n                />\n              </div>\n\n              <button className=\"bg-gradient-button\" type=\"submit\">\n                Submit\n              </button>\n            </form>\n          )}\n        />\n      </FormWrapperComponent>\n    </>\n  );\n}\n\ninterface NewTaskProps {\n  onSubmit: (task: NewTaskMapped) => Promise<AxiosResponse<NewTaskMapped>>;\n}\n\nexport interface NewTaskForm {\n  content: string;\n  images: Image[];\n  tips: Tip[];\n  title: string;\n  tags: string;\n}\n\nexport interface NewTaskMapped {\n  content: string;\n  images: string[] | [];\n  tips: string[] | [];\n  title: string;\n  tags: string[] | [];\n}\n\ninterface Tip {\n  tip: string;\n}\n\ninterface Image {\n  image: string;\n}\n"]},"metadata":{},"sourceType":"module"}