{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { FieldArray } from 'react-final-form-arrays';\nimport arrayMutators from 'final-form-arrays';\nimport ReactMarkdown from 'react-markdown';\nimport FormWrapperComponent from '../shared/form-wrapper/form-wrapper.component';\nimport InputComponent from '../shared/input/input.component';\nimport mapFormToNewTaskFormat from './utils/map-form-to-new-task-form.util';\nimport NewTaskHeading from './heading/heading.component';\nimport FieldArrayComponent from './field-array/field-array.component'; // const required = (value: string) => (value ? undefined : \"Required\");\n\nexport default function NewTaskComponent({\n  onSubmit\n}) {\n  // todo: investigate why values argument doesnt work with NewTaskForm type\n  async function onFormSubmit(values) {\n    if (onSubmit) {\n      onSubmit(mapFormToNewTaskFormat(values));\n    }\n  }\n\n  return __jsx(React.Fragment, null, __jsx(NewTaskHeading, null, \"Kreator zada\\u0144\"), __jsx(FormWrapperComponent, null, __jsx(Form, {\n    onSubmit: onFormSubmit,\n    mutators: _objectSpread({}, arrayMutators),\n    render: ({\n      handleSubmit,\n      values\n    }) => __jsx(\"form\", {\n      onSubmit: handleSubmit\n    }, __jsx(Field, {\n      name: \"title\",\n      label: \"Tytu\\u0142\",\n      component: InputComponent,\n      placeholder: \"np. Super cool formularz\"\n    }), __jsx(Field, {\n      name: \"content\",\n      label: \"Tre\\u015B\\u0107\",\n      component: InputComponent,\n      placeholder: \"Na czym polega zadanie?\",\n      fieldType: \"textarea\"\n    }), __jsx(\"pre\", null, _JSON$stringify(values)), __jsx(ReactMarkdown, {\n      source: values.content\n    }), __jsx(Field, {\n      name: \"repo\",\n      label: \"Link do zadania na Github\",\n      component: InputComponent,\n      placeholder: \"https://github.com/kodifaj\"\n    }), __jsx(Field, {\n      name: \"tags\",\n      label: \"Tagi\",\n      component: InputComponent,\n      placeholder: \"html, js, css\"\n    }), __jsx(FieldArray, {\n      name: \"tips\"\n    }, ({\n      fields,\n      meta\n    }) => __jsx(FieldArrayComponent, {\n      fields: fields,\n      meta: meta,\n      recordName: \"tip\",\n      label: \"Wskaz\\xF3wki\",\n      placeholder: \"Nowa wskaz\\xF3wka\"\n    })), __jsx(FieldArray, {\n      name: \"images\"\n    }, ({\n      fields,\n      meta\n    }) => __jsx(FieldArrayComponent, {\n      fields: fields,\n      meta: meta,\n      recordName: \"image\",\n      label: \"Obrazy\",\n      placeholder: \"Nowy obraz max 10kb\"\n    })), __jsx(\"button\", {\n      className: \"bg-gradient-button\",\n      type: \"submit\"\n    }, \"Submit\"))\n  })));\n}","map":{"version":3,"sources":["/Users/michal.lester/Documents/ML/kodifaj/components/new-task/new-task.component.tsx"],"names":["React","Form","Field","FieldArray","arrayMutators","ReactMarkdown","FormWrapperComponent","InputComponent","mapFormToNewTaskFormat","NewTaskHeading","FieldArrayComponent","NewTaskComponent","onSubmit","onFormSubmit","values","handleSubmit","content","fields","meta"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,IAAT,EAAeC,KAAf,QAA4B,kBAA5B;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,OAAOC,aAAP,MAA0B,mBAA1B;AAEA,OAAOC,aAAP,MAA0B,gBAA1B;AAEA,OAAOC,oBAAP,MAAiC,+CAAjC;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,sBAAP,MAAmC,wCAAnC;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,mBAAP,MAAgC,qCAAhC,C,CAEA;;AAEA,eAAe,SAASC,gBAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAsD;AACnE;AACA,iBAAeC,YAAf,CAA4BC,MAA5B,EAAyC;AACvC,QAAIF,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACJ,sBAAsB,CAACM,MAAD,CAAvB,CAAR;AACD;AACF;;AAED,SACE,4BACE,MAAC,cAAD,6BADF,EAEE,MAAC,oBAAD,QACE,MAAC,IAAD;AACE,IAAA,QAAQ,EAAED,YADZ;AAEE,IAAA,QAAQ,oBACHT,aADG,CAFV;AAKE,IAAA,MAAM,EAAE,CAAC;AAAEW,MAAAA,YAAF;AAAgBD,MAAAA;AAAhB,KAAD,KACN;AAAM,MAAA,QAAQ,EAAEC;AAAhB,OACE,MAAC,KAAD;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,KAAK,EAAC,YAFR;AAGE,MAAA,SAAS,EAAER,cAHb;AAIE,MAAA,WAAW,EAAC;AAJd,MADF,EAQE,MAAC,KAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,KAAK,EAAC,iBAFR;AAGE,MAAA,SAAS,EAAEA,cAHb;AAIE,MAAA,WAAW,EAAC,yBAJd;AAKE,MAAA,SAAS,EAAC;AALZ,MARF,EAgBE,mBAAM,gBAAeO,MAAf,CAAN,CAhBF,EAiBE,MAAC,aAAD;AAAe,MAAA,MAAM,EAAEA,MAAM,CAACE;AAA9B,MAjBF,EAmBE,MAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAC,2BAFR;AAGE,MAAA,SAAS,EAAET,cAHb;AAIE,MAAA,WAAW,EAAC;AAJd,MAnBF,EA0BE,MAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,SAAS,EAAEA,cAHb;AAIE,MAAA,WAAW,EAAC;AAJd,MA1BF,EAiCE,MAAC,UAAD;AAAY,MAAA,IAAI,EAAC;AAAjB,OACG,CAAC;AAAEU,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAAD,KACC,MAAC,mBAAD;AACE,MAAA,MAAM,EAAED,MADV;AAEE,MAAA,IAAI,EAAEC,IAFR;AAGE,MAAA,UAAU,EAAC,KAHb;AAIE,MAAA,KAAK,EAAC,cAJR;AAKE,MAAA,WAAW,EAAC;AALd,MAFJ,CAjCF,EA6CE,MAAC,UAAD;AAAY,MAAA,IAAI,EAAC;AAAjB,OACG,CAAC;AAAED,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAAD,KACC,MAAC,mBAAD;AACE,MAAA,MAAM,EAAED,MADV;AAEE,MAAA,IAAI,EAAEC,IAFR;AAGE,MAAA,UAAU,EAAC,OAHb;AAIE,MAAA,KAAK,EAAC,QAJR;AAKE,MAAA,WAAW,EAAC;AALd,MAFJ,CA7CF,EAyDE;AAAQ,MAAA,SAAS,EAAC,oBAAlB;AAAuC,MAAA,IAAI,EAAC;AAA5C,gBAzDF;AANJ,IADF,CAFF,CADF;AA0ED","sourcesContent":["import React from 'react';\nimport { AxiosResponse } from 'axios';\nimport { Form, Field } from 'react-final-form';\nimport { FieldArray } from 'react-final-form-arrays';\nimport arrayMutators from 'final-form-arrays';\n\nimport ReactMarkdown from 'react-markdown';\n\nimport FormWrapperComponent from '../shared/form-wrapper/form-wrapper.component';\nimport InputComponent from '../shared/input/input.component';\nimport mapFormToNewTaskFormat from './utils/map-form-to-new-task-form.util';\nimport NewTaskHeading from './heading/heading.component';\nimport FieldArrayComponent from './field-array/field-array.component';\n\n// const required = (value: string) => (value ? undefined : \"Required\");\n\nexport default function NewTaskComponent({ onSubmit }: NewTaskProps) {\n  // todo: investigate why values argument doesnt work with NewTaskForm type\n  async function onFormSubmit(values: any) {\n    if (onSubmit) {\n      onSubmit(mapFormToNewTaskFormat(values));\n    }\n  }\n\n  return (\n    <>\n      <NewTaskHeading>Kreator zadań</NewTaskHeading>\n      <FormWrapperComponent>\n        <Form\n          onSubmit={onFormSubmit}\n          mutators={{\n            ...arrayMutators,\n          }}\n          render={({ handleSubmit, values }) => (\n            <form onSubmit={handleSubmit}>\n              <Field\n                name=\"title\"\n                label=\"Tytuł\"\n                component={InputComponent}\n                placeholder=\"np. Super cool formularz\"\n              />\n\n              <Field\n                name=\"content\"\n                label=\"Treść\"\n                component={InputComponent}\n                placeholder=\"Na czym polega zadanie?\"\n                fieldType=\"textarea\"\n              />\n\n              <pre>{JSON.stringify(values)}</pre>\n              <ReactMarkdown source={values.content}/>\n\n              <Field\n                name=\"repo\"\n                label=\"Link do zadania na Github\"\n                component={InputComponent}\n                placeholder=\"https://github.com/kodifaj\"\n              />\n\n              <Field\n                name=\"tags\"\n                label=\"Tagi\"\n                component={InputComponent}\n                placeholder=\"html, js, css\"\n              />\n\n              <FieldArray name=\"tips\">\n                {({ fields, meta }) => (\n                  <FieldArrayComponent\n                    fields={fields}\n                    meta={meta}\n                    recordName=\"tip\"\n                    label=\"Wskazówki\"\n                    placeholder=\"Nowa wskazówka\"\n                  />\n                )}\n              </FieldArray>\n\n              <FieldArray name=\"images\">\n                {({ fields, meta }) => (\n                  <FieldArrayComponent\n                    fields={fields}\n                    meta={meta}\n                    recordName=\"image\"\n                    label=\"Obrazy\"\n                    placeholder=\"Nowy obraz max 10kb\"\n                  />\n                )}\n              </FieldArray>\n\n              <button className=\"bg-gradient-button\" type=\"submit\">Submit</button>\n            </form>\n          )}\n        />\n      </FormWrapperComponent>\n    </>\n  );\n}\n\ninterface NewTaskProps {\n  onSubmit: (task: NewTaskMapped) => Promise<AxiosResponse<NewTaskMapped>>;\n}\n\nexport interface NewTaskForm {\n  content: string;\n  images: Image[];\n  tips: Tip[];\n  title: string;\n  tags: string;\n}\n\nexport interface NewTaskMapped {\n  content: string;\n  images: string[] | [];\n  tips: string[] | [];\n  title: string;\n  tags: string[] | [];\n}\n\ninterface Tip {\n  tip: string;\n}\n\ninterface Image {\n  image: string;\n}\n"]},"metadata":{},"sourceType":"module"}